<!DOCTYPE html>
<html lang="uk">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>–°–≤—è—Ç–∏–π –ú–∏–∫–æ–ª–∞–π - –°—Ç—Ä–∏–±–∫–∏</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Arial', sans-serif;
            background: linear-gradient(to bottom, #1a3a5c 0%, #4a90d9 100%);
            display: flex;
            justify-content: center;
            align-items: center;
            min-height: 100vh;
            overflow: hidden;
            touch-action: manipulation;
        }

        .container {
            position: relative;
            width: 100%;
            max-width: 800px;
            height: 400px;
            background: linear-gradient(to bottom, #87ceeb 0%, #e0f6ff 100%);
            border-radius: 10px;
            overflow: hidden;
            box-shadow: 0 10px 30px rgba(0,0,0,0.3);
        }

        /* –°–Ω—ñ–∂–∏–Ω–∫–∏ –Ω–∞ —Ñ–æ–Ω—ñ */
        .snowflake {
            position: absolute;
            color: white;
            font-size: 20px;
            animation: fall linear infinite;
            opacity: 0.7;
        }

        @keyframes fall {
            0% {
                transform: translateY(-20px) rotate(0deg);
            }
            100% {
                transform: translateY(420px) rotate(360deg);
            }
        }

        #gameCanvas {
            width: 100%;
            height: 100%;
            display: block;
        }

        .score {
            position: absolute;
            top: 20px;
            right: 20px;
            font-size: 24px;
            font-weight: bold;
            color: #fff;
            text-shadow: 2px 2px 4px rgba(0,0,0,0.5);
            z-index: 10;
        }

        .game-over {
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            text-align: center;
            color: white;
            background: rgba(0,0,0,0.8);
            padding: 30px;
            border-radius: 15px;
            display: none;
            z-index: 20;
        }

        .game-over h2 {
            font-size: 36px;
            margin-bottom: 10px;
            color: #ff6b6b;
        }

        .game-over p {
            font-size: 20px;
            margin-bottom: 20px;
        }

        .game-over button {
            font-size: 20px;
            padding: 15px 30px;
            background: #4CAF50;
            color: white;
            border: none;
            border-radius: 8px;
            cursor: pointer;
            font-weight: bold;
            transition: all 0.3s;
        }

        .game-over button:hover {
            background: #45a049;
            transform: scale(1.05);
        }

        .instructions {
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            text-align: center;
            color: white;
            background: rgba(0,0,0,0.7);
            padding: 25px;
            border-radius: 15px;
            z-index: 15;
        }

        .instructions h3 {
            font-size: 28px;
            margin-bottom: 15px;
            color: #ffd700;
        }

        .instructions p {
            font-size: 18px;
            margin-bottom: 10px;
        }

        @media (max-width: 600px) {
            .container {
                max-width: 100%;
                height: 300px;
                border-radius: 0;
            }
            
            .score {
                font-size: 20px;
                top: 10px;
                right: 10px;
            }
            
            .game-over h2 {
                font-size: 28px;
            }
            
            .instructions h3 {
                font-size: 24px;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <!-- –°–Ω—ñ–∂–∏–Ω–∫–∏ -->
        <div class="snowflake" style="left: 10%; animation-duration: 3s;">‚ùÑÔ∏è</div>
        <div class="snowflake" style="left: 30%; animation-duration: 4s; animation-delay: 1s;">‚ùÑÔ∏è</div>
        <div class="snowflake" style="left: 50%; animation-duration: 3.5s; animation-delay: 0.5s;">‚ùÑÔ∏è</div>
        <div class="snowflake" style="left: 70%; animation-duration: 4.5s;">‚ùÑÔ∏è</div>
        <div class="snowflake" style="left: 90%; animation-duration: 3s; animation-delay: 2s;">‚ùÑÔ∏è</div>

        <canvas id="gameCanvas"></canvas>
        <div class="score">–†–∞—Ö—É–Ω–æ–∫: <span id="scoreValue">0</span></div>
        
        <div class="instructions" id="instructions">
            <h3>üéÖ –°–≤—è—Ç–∏–π –ú–∏–∫–æ–ª–∞–π üéÖ</h3>
            <p>–ù–∞—Ç–∏—Å–Ω—ñ—Ç—å –ü–†–û–ë–Ü–õ –∞–±–æ –ï–ö–†–ê–ù —â–æ–± –ø–æ—á–∞—Ç–∏</p>
            <p>–ü–µ—Ä–µ—Å—Ç—Ä–∏–±—É–π—Ç–µ –ø–æ–¥–∞—Ä—É–Ω–∫–∏! üéÅ</p>
        </div>

        <div class="game-over" id="gameOver">
            <h2>–ì—Ä–∞ –∑–∞–∫—ñ–Ω—á–µ–Ω–∞! üéÑ</h2>
            <p>–í–∞—à —Ä–∞—Ö—É–Ω–æ–∫: <span id="finalScore">0</span></p>
            <button onclick="restartGame()">–ì—Ä–∞—Ç–∏ –∑–Ω–æ–≤—É</button>
        </div>
    </div>

    <script>
        const canvas = document.getElementById('gameCanvas');
        const ctx = canvas.getContext('2d');
        const scoreElement = document.getElementById('scoreValue');
        const finalScoreElement = document.getElementById('finalScore');
        const gameOverElement = document.getElementById('gameOver');
        const instructionsElement = document.getElementById('instructions');

        // –†–æ–∑–º—ñ—Ä–∏ canvas
        function resizeCanvas() {
            canvas.width = canvas.offsetWidth;
            canvas.height = canvas.offsetHeight;
        }
        resizeCanvas();
        window.addEventListener('resize', resizeCanvas);

        // –ó–º—ñ–Ω–Ω—ñ –≥—Ä–∏
        let gameStarted = false;
        let gameOver = false;
        let score = 0;
        let frameCount = 0;

        // –°–≤—è—Ç–∏–π –ú–∏–∫–æ–ª–∞–π
        const santa = {
            x: 50,
            y: 0,
            width: 50,
            height: 50,
            velocityY: 0,
            gravity: 0.6,
            jumpForce: -12,
            isJumping: false,
            groundY: 0
        };

        // –ü–æ–¥–∞—Ä—É–Ω–∫–∏
        const gifts = [];
        const giftWidth = 40;
        const giftHeight = 40;
        let giftSpeed = 5;
        let giftSpawnRate = 90;

        // –Ü–Ω—ñ—Ü—ñ–∞–ª—ñ–∑–∞—Ü—ñ—è –ø–æ–∑–∏—Ü—ñ—ó –°–≤—è—Ç–æ–≥–æ –ú–∏–∫–æ–ª–∞—è
        function initSanta() {
            santa.groundY = canvas.height - 80;
            santa.y = santa.groundY;
        }

        // –°—Ç—Ä–∏–±–æ–∫
        function jump() {
            if (!santa.isJumping && gameStarted && !gameOver) {
                santa.velocityY = santa.jumpForce;
                santa.isJumping = true;
            }
        }

        // –û–±—Ä–æ–±–Ω–∏–∫–∏ –ø–æ–¥—ñ–π
        document.addEventListener('keydown', (e) => {
            if (e.code === 'Space') {
                e.preventDefault();
                if (!gameStarted) {
                    startGame();
                } else {
                    jump();
                }
            }
        });

        canvas.addEventListener('click', () => {
            if (!gameStarted) {
                startGame();
            } else {
                jump();
            }
        });

        canvas.addEventListener('touchstart', (e) => {
            e.preventDefault();
            if (!gameStarted) {
                startGame();
            } else {
                jump();
            }
        });

        function startGame() {
            gameStarted = true;
            instructionsElement.style.display = 'none';
            initSanta();
        }

        function restartGame() {
            gameOver = false;
            gameStarted = true;
            score = 0;
            frameCount = 0;
            gifts.length = 0;
            giftSpeed = 5;
            santa.velocityY = 0;
            santa.isJumping = false;
            scoreElement.textContent = score;
            gameOverElement.style.display = 'none';
            initSanta();
        }

        // –û–Ω–æ–≤–ª–µ–Ω–Ω—è –≥—Ä–∏
        function update() {
            if (!gameStarted || gameOver) return;

            frameCount++;

            // –û–Ω–æ–≤–ª–µ–Ω–Ω—è –°–≤—è—Ç–æ–≥–æ –ú–∏–∫–æ–ª–∞—è
            santa.velocityY += santa.gravity;
            santa.y += santa.velocityY;

            if (santa.y >= santa.groundY) {
                santa.y = santa.groundY;
                santa.velocityY = 0;
                santa.isJumping = false;
            }

            // –ì–µ–Ω–µ—Ä–∞—Ü—ñ—è –ø–æ–¥–∞—Ä—É–Ω–∫—ñ–≤
            if (frameCount % giftSpawnRate === 0) {
                gifts.push({
                    x: canvas.width,
                    y: santa.groundY,
                    counted: false
                });
            }

            // –û–Ω–æ–≤–ª–µ–Ω–Ω—è –ø–æ–¥–∞—Ä—É–Ω–∫—ñ–≤
            for (let i = gifts.length - 1; i >= 0; i--) {
                gifts[i].x -= giftSpeed;

                // –ü—ñ–¥—Ä–∞—Ö—É–Ω–æ–∫ –æ—á–∫—ñ–≤
                if (!gifts[i].counted && gifts[i].x + giftWidth < santa.x) {
                    gifts[i].counted = true;
                    score++;
                    scoreElement.textContent = score;
                    
                    // –ó–±—ñ–ª—å—à–µ–Ω–Ω—è —à–≤–∏–¥–∫–æ—Å—Ç—ñ
                    if (score % 5 === 0) {
                        giftSpeed += 0.5;
                        if (giftSpawnRate > 60) {
                            giftSpawnRate -= 5;
                        }
                    }
                }

                // –í–∏–¥–∞–ª–µ–Ω–Ω—è –ø–æ–¥–∞—Ä—É–Ω–∫—ñ–≤ –∑–∞ –µ–∫—Ä–∞–Ω–æ–º
                if (gifts[i].x + giftWidth < 0) {
                    gifts.splice(i, 1);
                    continue;
                }

                // –ü–µ—Ä–µ–≤—ñ—Ä–∫–∞ –∑—ñ—Ç–∫–Ω–µ–Ω–Ω—è
                if (checkCollision(santa, gifts[i])) {
                    endGame();
                }
            }
        }

        // –ü–µ—Ä–µ–≤—ñ—Ä–∫–∞ –∑—ñ—Ç–∫–Ω–µ–Ω–Ω—è
        function checkCollision(santa, gift) {
            return santa.x < gift.x + giftWidth - 10 &&
                   santa.x + santa.width - 10 > gift.x &&
                   santa.y < gift.y + giftHeight - 10 &&
                   santa.y + santa.height - 10 > gift.y;
        }

        // –ó–∞–≤–µ—Ä—à–µ–Ω–Ω—è –≥—Ä–∏
        function endGame() {
            gameOver = true;
            finalScoreElement.textContent = score;
            gameOverElement.style.display = 'block';
        }

        // –í—ñ–¥–æ–±—Ä–∞–∂–µ–Ω–Ω—è
        function draw() {
            // –û—á–∏—Å—Ç–∏—Ç–∏ canvas
            ctx.clearRect(0, 0, canvas.width, canvas.height);

            // –ó–µ–º–ª—è (—Å–Ω—ñ–≥)
            ctx.fillStyle = '#ffffff';
            ctx.fillRect(0, santa.groundY + santa.height, canvas.width, canvas.height);

            // –°–Ω—ñ–∂–∏–Ω–∫–∏ –Ω–∞ –∑–µ–º–ª—ñ
            ctx.fillStyle = '#e0e0e0';
            for (let i = 0; i < canvas.width; i += 30) {
                ctx.beginPath();
                ctx.arc(i, santa.groundY + santa.height + 10, 3, 0, Math.PI * 2);
                ctx.fill();
            }

            if (!gameStarted) return;

            // –°–≤—è—Ç–∏–π –ú–∏–∫–æ–ª–∞–π (–≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—î–º–æ emoji)
            ctx.font = `${santa.height}px Arial`;
            ctx.fillText('üéÖ', santa.x, santa.y + santa.height);

            // –ü–æ–¥–∞—Ä—É–Ω–∫–∏
            ctx.font = `${giftHeight}px Arial`;
            gifts.forEach(gift => {
                ctx.fillText('üéÅ', gift.x, gift.y + giftHeight);
            });
        }

        // –ì–æ–ª–æ–≤–Ω–∏–π —Ü–∏–∫–ª –≥—Ä–∏
        function gameLoop() {
            update();
            draw();
            requestAnimationFrame(gameLoop);
        }

        // –ó–∞–ø—É—Å–∫ –≥—Ä–∏
        initSanta();
        gameLoop();
    </script>
</body>
</html>